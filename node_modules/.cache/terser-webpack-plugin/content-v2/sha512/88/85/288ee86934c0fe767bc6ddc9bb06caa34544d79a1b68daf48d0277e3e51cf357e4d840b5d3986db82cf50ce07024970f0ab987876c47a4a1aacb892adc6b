{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{1606:function(e,n,t){\"use strict\";t.r(n),t.d(n,\"resources\",(function(){return s}));const s={\"userscript.js\":async function(e){let{addon:n,console:t}=e;const s=await n.tab.traps.getBlockly();let i=s.getMainWorkspace();const r=s.init_;function a(e){i.grid_.snapToGrid_=e,i.grid_.spacing_=e?n.settings.get(\"grid\"):40,i.grid_.update(i.scale)}s.init_=function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return i=t[0],n.self.disabled||a(!0),r.call(this,...t)},a(!0),n.settings.addEventListener(\"change\",(()=>a(!0))),n.self.addEventListener(\"disabled\",(()=>a(!1))),n.self.addEventListener(\"reenabled\",(()=>a(!0)))}}}}]);","name":"40.index.js","input":"(window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || []).push([[40],{\n\n/***/ 1606:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"resources\", function() { return /* binding */ resources; });\n\n// CONCATENATED MODULE: ./node_modules/scratch-gui/src/addons/addons/script-snap/userscript.js\n/* harmony default export */ var userscript = (async function (_ref) {\n  let {\n    addon,\n    console\n  } = _ref;\n  const Blockly = await addon.tab.traps.getBlockly();\n  let workspace = Blockly.getMainWorkspace();\n  // Handle future workspaces\n  const originalInit = Blockly.init_;\n  Blockly.init_ = function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    workspace = args[0];\n    if (!addon.self.disabled) setGrid(true);\n    return originalInit.call(this, ...args);\n  };\n  setGrid(true);\n  addon.settings.addEventListener(\"change\", () => setGrid(true));\n  addon.self.addEventListener(\"disabled\", () => setGrid(false));\n  addon.self.addEventListener(\"reenabled\", () => setGrid(true));\n  function setGrid(enabled) {\n    workspace.grid_.snapToGrid_ = enabled;\n    if (enabled) workspace.grid_.spacing_ = addon.settings.get(\"grid\");else workspace.grid_.spacing_ = 40;\n    workspace.grid_.update(workspace.scale);\n  }\n});\n// CONCATENATED MODULE: ./node_modules/scratch-gui/src/addons/addons/script-snap/_runtime_entry.js\n/* generated by pull.js */\n\nconst resources = {\n  \"userscript.js\": userscript\n};\n\n/***/ })\n\n}]);","inputSourceMap":null}