{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{1385:function(n,e,t){\"use strict\";function a(){}t.d(e,\"a\",(function(){return a}))},1470:function(n,e,t){var a=t(290);(n.exports=t(10)(!1)).push([n.i,'.clone-container-container {\\n  display: none;\\n  align-items: center;\\n  padding: 0.25rem;\\n  user-select: none;\\n  color: #a065ff;\\n}\\n\\n.clone-container {\\n  font-size: 0.625rem;\\n  font-weight: bold;\\n  font-family: \"Helvetica Neue\", Helvetica, Arial, sans-serif;\\n  white-space: nowrap;\\n}\\n\\n.clone-icon {\\n  margin: 0.25rem;\\n  display: inline-block;\\n  background-image: url('+a(t(1471))+');\\n  height: 16px;\\n  width: 16px;\\n}\\n\\n.clone-container-container[data-count=\"none\"] {\\n  display: none;\\n}\\n\\n.clone-container-container[data-count=\"full\"] {\\n  color: #ff6680;\\n}\\n\\n.clone-container-container[data-count=\"full\"] .clone-icon {\\n  background-image: url('+a(t(1472))+\");\\n}\\n\\n.clone-count::after {\\n  content: attr(data-str);\\n}\\n\\n.sa-small-stage .clone-container-container {\\n  display: none !important;\\n}\\n\",\"\"])},1471:function(n,e,t){n.exports=t.p+\"static/assets/70aa226b166e34708f1d84c30bc47fb9.svg\"},1472:function(n,e,t){n.exports=t.p+\"static/assets/e735c0f7305bf874aa49428ff1d7a17f.svg\"},1539:function(n,e,t){\"use strict\";t.r(e),t.d(e,\"resources\",(function(){return c}));var a=t(1385),i=t(1470);const c={\"userscript.js\":async function(n){let{addon:e,console:t,msg:i}=n;const c=e.tab.traps.vm;let o=e.settings.get(\"projectpage\"),s=e.settings.get(\"showicononly\");Object(a.a)();let l=document.createElement(\"div\");e.tab.displayNoneWhileDisabled(l);let j=document.createElement(\"div\"),u=document.createElement(\"span\"),I=document.createElement(\"span\");l.className=\"clone-container-container\",j.className=\"clone-container\",u.className=\"clone-count\",I.className=\"clone-icon\",l.appendChild(I),l.appendChild(j),j.appendChild(u);let r=0;const d=Array(301).fill().map(((n,e)=>i(\"clones\",{cloneCount:e})));function g(n){const t=c.runtime._cloneCounter;(t!==r||n)&&(r=t,0===t?l.dataset.count=\"none\":t>=c.runtime.runtimeOptions.maxClones?l.dataset.count=\"full\":l.dataset.count=\"\",u.dataset.str=s?t:d[t]||i(\"clones\",{cloneCount:t}),0===t||\"editor\"!==e.tab.editorMode&&!o?l.style.display=\"none\":l.style.display=\"flex\")}e.settings.addEventListener(\"change\",(()=>{s=e.settings.get(\"showicononly\"),o=e.settings.get(\"projectpage\"),g(!0)}));const m=c.runtime._step;for(c.runtime._step=function(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];const a=m.call(this,...e);return g(),a};;)await e.tab.waitForElement('[class*=\"controls_controls-container\"]',{markAsSeen:!0,reduxEvents:[\"scratch-gui/mode/SET_PLAYER\",\"fontsLoaded/SET_FONTS_LOADED\",\"scratch-gui/locales/SELECT_LOCALE\"]}),(o||\"editor\"===e.tab.editorMode||e.tab.redux.state.scratchGui.mode.isEmbedded)&&(e.tab.appendToSharedSpace({space:\"afterStopButton\",element:l,order:2}),g(!0))},\"style.css\":t.n(i).a,\"300cats.svg\":\"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbD0ibm9uZSIgZD0iTS0xLTFoODAydjYwMkgtMXoiLz48ZyBmaWxsPSIjZmZkMWQ4Ij48Y2lyY2xlIGN5PSI4LjQ4NCIgY3g9IjcuNDE0IiByPSI0LjczMyIvPjxwYXRoIGQ9Im0zLjg0MyA2LjEuMjk2LTQuODMgMi4yMzYgNC4yNjVtMS40MTEtLjEwOEw5LjQuODY2bC45NzUgNC43MTYiIGZpbGwtb3BhY2l0eT0ibnVsbCIvPjwvZz48ZyBmaWxsPSIjZmY5MWEzIj48Y2lyY2xlIGN5PSI5LjEwNCIgY3g9IjcuOTg3IiByPSI0LjczMyIvPjxwYXRoIGQ9Im00LjQxNSA2LjcyLjI5Ni00LjgzIDIuMjM3IDQuMjY1bTEuNDEtLjEwOCAxLjYxNi00LjU2Ljk3NCA0LjcxNSIgZmlsbC1vcGFjaXR5PSJudWxsIi8+PC9nPjxnIGZpbGw9IiNmZjY2ODAiPjxjaXJjbGUgY3k9IjkuNDg2IiBjeD0iOC45NDEiIHI9IjQuNzMzIi8+PHBhdGggZD0ibTUuMzcgNy4xMDIuMjk1LTQuODMgMi4yMzcgNC4yNjVtMS40MS0uMTA3IDEuNjE2LTQuNTYyLjk3NCA0LjcxNiIgZmlsbC1vcGFjaXR5PSJudWxsIi8+PC9nPjwvc3ZnPg==\",\"cat.svg\":\"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbD0ibm9uZSIgZD0iTS0xLTFoODAydjYwMkgtMXoiLz48ZyBmaWxsPSIjZGNjOWZmIj48Y2lyY2xlIGN5PSI4LjQ4NCIgY3g9IjcuNDE0IiByPSI0LjczMyIvPjxwYXRoIGQ9Im0zLjg0MyA2LjEuMjk2LTQuODMgMi4yMzYgNC4yNjVtMS40MTEtLjEwOEw5LjQuODY2bC45NzUgNC43MTYiIGZpbGwtb3BhY2l0eT0ibnVsbCIvPjwvZz48ZyBmaWxsPSIjYmM5NmZmIj48Y2lyY2xlIGN5PSI5LjEwNCIgY3g9IjcuOTg3IiByPSI0LjczMyIvPjxwYXRoIGQ9Im00LjQxNSA2LjcyLjI5Ni00LjgzIDIuMjM3IDQuMjY1bTEuNDEtLjEwOCAxLjYxNi00LjU2Ljk3NCA0LjcxNSIgZmlsbC1vcGFjaXR5PSJudWxsIi8+PC9nPjxnIGZpbGw9IiNhMDY1ZmYiPjxjaXJjbGUgY3k9IjkuNDg2IiBjeD0iOC45NDEiIHI9IjQuNzMzIi8+PHBhdGggZD0ibTUuMzcgNy4xMDIuMjk1LTQuODMgMi4yMzcgNC4yNjVtMS40MS0uMTA3IDEuNjE2LTQuNTYyLjk3NCA0LjcxNiIgZmlsbC1vcGFjaXR5PSJudWxsIi8+PC9nPjwvc3ZnPg==\"}}}]);","name":"4.index.js","input":"(window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || []).push([[4],{\n\n/***/ 1385:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return addSmallStageClass; });\nfunction addSmallStageClass() {\n  // TW: no-op; sa-small-stage class is handled by scratch-gui\n}\n\n/***/ }),\n\n/***/ 1470:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar escape = __webpack_require__(290);\nexports = module.exports = __webpack_require__(10)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".clone-container-container {\\n  display: none;\\n  align-items: center;\\n  padding: 0.25rem;\\n  user-select: none;\\n  color: #a065ff;\\n}\\n\\n.clone-container {\\n  font-size: 0.625rem;\\n  font-weight: bold;\\n  font-family: \\\"Helvetica Neue\\\", Helvetica, Arial, sans-serif;\\n  white-space: nowrap;\\n}\\n\\n.clone-icon {\\n  margin: 0.25rem;\\n  display: inline-block;\\n  background-image: url(\" + escape(__webpack_require__(1471)) + \");\\n  height: 16px;\\n  width: 16px;\\n}\\n\\n.clone-container-container[data-count=\\\"none\\\"] {\\n  display: none;\\n}\\n\\n.clone-container-container[data-count=\\\"full\\\"] {\\n  color: #ff6680;\\n}\\n\\n.clone-container-container[data-count=\\\"full\\\"] .clone-icon {\\n  background-image: url(\" + escape(__webpack_require__(1472)) + \");\\n}\\n\\n.clone-count::after {\\n  content: attr(data-str);\\n}\\n\\n.sa-small-stage .clone-container-container {\\n  display: none !important;\\n}\\n\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 1471:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"static/assets/70aa226b166e34708f1d84c30bc47fb9.svg\";\n\n/***/ }),\n\n/***/ 1472:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"static/assets/e735c0f7305bf874aa49428ff1d7a17f.svg\";\n\n/***/ }),\n\n/***/ 1539:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"resources\", function() { return /* binding */ resources; });\n\n// EXTERNAL MODULE: ./node_modules/scratch-gui/src/addons/libraries/common/cs/small-stage.js\nvar small_stage = __webpack_require__(1385);\n\n// CONCATENATED MODULE: ./node_modules/scratch-gui/src/addons/addons/clones/userscript.js\n\n/* harmony default export */ var userscript = (async function (_ref) {\n  let {\n    addon,\n    console,\n    msg\n  } = _ref;\n  const vm = addon.tab.traps.vm;\n  let showOnProjectPage = addon.settings.get(\"projectpage\");\n  let showIconOnly = addon.settings.get(\"showicononly\");\n  Object(small_stage[\"a\" /* default */])();\n  let countContainerContainer = document.createElement(\"div\");\n  addon.tab.displayNoneWhileDisabled(countContainerContainer);\n  let countContainer = document.createElement(\"div\");\n  let count = document.createElement(\"span\");\n  let icon = document.createElement(\"span\");\n  countContainerContainer.className = \"clone-container-container\";\n  countContainer.className = \"clone-container\";\n  count.className = \"clone-count\";\n  icon.className = \"clone-icon\";\n  countContainerContainer.appendChild(icon);\n  countContainerContainer.appendChild(countContainer);\n  countContainer.appendChild(count);\n  let lastChecked = 0;\n  const cache = Array(301).fill().map((_, i) => msg(\"clones\", {\n    cloneCount: i\n  }));\n  function doCloneChecks(force) {\n    const v = vm.runtime._cloneCounter;\n    // performance\n    if (v === lastChecked && !force) return;\n    lastChecked = v;\n    if (v === 0) {\n      countContainerContainer.dataset.count = \"none\";\n    } else if (v >= vm.runtime.runtimeOptions.maxClones) {\n      countContainerContainer.dataset.count = \"full\";\n    } else {\n      countContainerContainer.dataset.count = \"\";\n    }\n    if (showIconOnly) {\n      count.dataset.str = v;\n    } else {\n      count.dataset.str = cache[v] || msg(\"clones\", {\n        cloneCount: v\n      });\n    }\n    if (v === 0 || addon.tab.editorMode !== \"editor\" && !showOnProjectPage) countContainerContainer.style.display = \"none\";else countContainerContainer.style.display = \"flex\";\n  }\n  addon.settings.addEventListener(\"change\", () => {\n    showIconOnly = addon.settings.get(\"showicononly\");\n    showOnProjectPage = addon.settings.get(\"projectpage\");\n    doCloneChecks(true);\n  });\n  const oldStep = vm.runtime._step;\n  vm.runtime._step = function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    const ret = oldStep.call(this, ...args);\n    doCloneChecks();\n    return ret;\n  };\n\n  /*\n  if (addon.self.enabledLate) {\n    // Clone count might be inaccurate if the user deleted sprites\n    // before enabling the addon\n    let count = 0;\n    for (let target of vm.runtime.targets) {\n      if (!target.isOriginal) ++count;\n    }\n    vm.runtime._cloneCounter = count;\n  }\n  */\n\n  while (true) {\n    await addon.tab.waitForElement('[class*=\"controls_controls-container\"]', {\n      markAsSeen: true,\n      reduxEvents: [\"scratch-gui/mode/SET_PLAYER\", \"fontsLoaded/SET_FONTS_LOADED\", \"scratch-gui/locales/SELECT_LOCALE\"]\n    });\n    if (showOnProjectPage || addon.tab.editorMode === \"editor\" || addon.tab.redux.state.scratchGui.mode.isEmbedded) {\n      addon.tab.appendToSharedSpace({\n        space: \"afterStopButton\",\n        element: countContainerContainer,\n        order: 2\n      });\n      doCloneChecks(true);\n    }\n  }\n});\n// EXTERNAL MODULE: ./node_modules/css-loader!./node_modules/scratch-gui/src/addons/addons/clones/style.css\nvar style = __webpack_require__(1470);\nvar style_default = /*#__PURE__*/__webpack_require__.n(style);\n\n// CONCATENATED MODULE: ./node_modules/url-loader/dist/cjs.js!./node_modules/scratch-gui/src/addons/addons/clones/300cats.svg\n/* harmony default export */ var _300cats = (\"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbD0ibm9uZSIgZD0iTS0xLTFoODAydjYwMkgtMXoiLz48ZyBmaWxsPSIjZmZkMWQ4Ij48Y2lyY2xlIGN5PSI4LjQ4NCIgY3g9IjcuNDE0IiByPSI0LjczMyIvPjxwYXRoIGQ9Im0zLjg0MyA2LjEuMjk2LTQuODMgMi4yMzYgNC4yNjVtMS40MTEtLjEwOEw5LjQuODY2bC45NzUgNC43MTYiIGZpbGwtb3BhY2l0eT0ibnVsbCIvPjwvZz48ZyBmaWxsPSIjZmY5MWEzIj48Y2lyY2xlIGN5PSI5LjEwNCIgY3g9IjcuOTg3IiByPSI0LjczMyIvPjxwYXRoIGQ9Im00LjQxNSA2LjcyLjI5Ni00LjgzIDIuMjM3IDQuMjY1bTEuNDEtLjEwOCAxLjYxNi00LjU2Ljk3NCA0LjcxNSIgZmlsbC1vcGFjaXR5PSJudWxsIi8+PC9nPjxnIGZpbGw9IiNmZjY2ODAiPjxjaXJjbGUgY3k9IjkuNDg2IiBjeD0iOC45NDEiIHI9IjQuNzMzIi8+PHBhdGggZD0ibTUuMzcgNy4xMDIuMjk1LTQuODMgMi4yMzcgNC4yNjVtMS40MS0uMTA3IDEuNjE2LTQuNTYyLjk3NCA0LjcxNiIgZmlsbC1vcGFjaXR5PSJudWxsIi8+PC9nPjwvc3ZnPg==\");\n// CONCATENATED MODULE: ./node_modules/url-loader/dist/cjs.js!./node_modules/scratch-gui/src/addons/addons/clones/cat.svg\n/* harmony default export */ var cat = (\"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbD0ibm9uZSIgZD0iTS0xLTFoODAydjYwMkgtMXoiLz48ZyBmaWxsPSIjZGNjOWZmIj48Y2lyY2xlIGN5PSI4LjQ4NCIgY3g9IjcuNDE0IiByPSI0LjczMyIvPjxwYXRoIGQ9Im0zLjg0MyA2LjEuMjk2LTQuODMgMi4yMzYgNC4yNjVtMS40MTEtLjEwOEw5LjQuODY2bC45NzUgNC43MTYiIGZpbGwtb3BhY2l0eT0ibnVsbCIvPjwvZz48ZyBmaWxsPSIjYmM5NmZmIj48Y2lyY2xlIGN5PSI5LjEwNCIgY3g9IjcuOTg3IiByPSI0LjczMyIvPjxwYXRoIGQ9Im00LjQxNSA2LjcyLjI5Ni00LjgzIDIuMjM3IDQuMjY1bTEuNDEtLjEwOCAxLjYxNi00LjU2Ljk3NCA0LjcxNSIgZmlsbC1vcGFjaXR5PSJudWxsIi8+PC9nPjxnIGZpbGw9IiNhMDY1ZmYiPjxjaXJjbGUgY3k9IjkuNDg2IiBjeD0iOC45NDEiIHI9IjQuNzMzIi8+PHBhdGggZD0ibTUuMzcgNy4xMDIuMjk1LTQuODMgMi4yMzcgNC4yNjVtMS40MS0uMTA3IDEuNjE2LTQuNTYyLjk3NCA0LjcxNiIgZmlsbC1vcGFjaXR5PSJudWxsIi8+PC9nPjwvc3ZnPg==\");\n// CONCATENATED MODULE: ./node_modules/scratch-gui/src/addons/addons/clones/_runtime_entry.js\n/* generated by pull.js */\n\n\n\n\nconst resources = {\n  \"userscript.js\": userscript,\n  \"style.css\": style_default.a,\n  \"300cats.svg\": _300cats,\n  \"cat.svg\": cat\n};\n\n/***/ })\n\n}]);","inputSourceMap":null}