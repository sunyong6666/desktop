{"version":3,"file":"addon-entry-load-extensions.index.js","sources":["webpack:///./node_modules/scratch-gui/src/addons/addons/load-extensions/_runtime_entry.js","webpack:///./node_modules/scratch-gui/src/addons/addons/load-extensions/userscript.js"],"sourcesContent":["/* generated by pull.js */\nimport _js from \"./userscript.js\";\nexport const resources = {\n  \"userscript.js\": _js\n};","export default async function (_ref) {\n  let {\n    addon,\n    console\n  } = _ref;\n  const vm = addon.tab.traps.vm;\n  const loadExtensions = () => {\n    if (addon.self.disabled) return;\n    // IDs are taken from https://github.com/scratchfoundation/scratch-vm/blob/ffa78b91b8645b6a8c80f698a3637bb73abf2931/src/extension-support/extension-manager.js#L11\n    const EXTENSIONS = [\"music\", \"pen\", \"text2speech\", \"translate\"];\n    for (let ext of EXTENSIONS) {\n      // Check if setting enabled and it's not already loaded\n      if (addon.settings.get(ext) && !vm.extensionManager.isExtensionLoaded(ext)) {\n        vm.extensionManager.loadExtensionIdSync(ext);\n      }\n    }\n  };\n  if (vm.editingTarget) {\n    loadExtensions();\n  } else {\n    vm.runtime.once(\"PROJECT_LOADED\", loadExtensions);\n  }\n}"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACJA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;A","sourceRoot":""}